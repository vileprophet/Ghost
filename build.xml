&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;project name=&quot;foo&quot; default=&quot;war&quot; basedir=&quot;.&quot;&gt;
        &lt;!-- PROPERTIES --&gt;
        &lt;property name=&quot;buildDir&quot; value=&quot;./build&quot; /&gt;
        &lt;property name=&quot;distDir&quot; value=&quot;./dist&quot; /&gt;
        &lt;property name=&quot;warFileName&quot; value=&quot;foo.war&quot; /&gt;
        &lt;property name=&quot;imageFiles&quot; value=&quot;**/*.gif,**/*.png,**/*.jpg&quot; /&gt;
        &lt;property name=&quot;debug&quot; value=&quot;true&quot; /&gt;
 
        &lt;!-- TARGETS --&gt;
        &lt;target name=&quot;build&quot; depends=&quot;init&quot;&gt;
              &lt;echo message=&quot;Copying non-binary files to build directory ...&quot; /&gt;
              &lt;copy todir=&quot;${buildDir}/&quot;
                          verbose=&quot;${debug}&quot;
                          preservelastmodified=&quot;true&quot;&gt;
                   &lt;fileset dir=&quot;${basedir}&quot; excludes=&quot;${imageFiles}&quot;&gt;
                           &lt;exclude name=&quot;${buildDir}/&quot; /&gt;
                           &lt;exclude name=&quot;${distDir}/&quot; /&gt;
                           &lt;exclude name=&quot;build.xml&quot; /&gt;
                           &lt;exclude name=&quot;.project&quot; /&gt;
                           &lt;exclude name=&quot;**/.svn&quot; /&gt;
                  &lt;/fileset&gt;
             &lt;/copy&gt;
 
             &lt;echo message=&quot;Copying binary files to build directory ...&quot; /&gt;
             &lt;copy todir=&quot;${buildDir}/&quot;
                         verbose=&quot;${debug}&quot;
                         preservelastmodified=&quot;true&quot;&gt;
                 &lt;fileset dir=&quot;${basedir}&quot; includes=&quot;${imageFiles}&quot;&gt;
                         &lt;exclude name=&quot;${buildDir}/&quot; /&gt;
                         &lt;exclude name=&quot;${distDir}/&quot; /&gt;
                         &lt;exclude name=&quot;build.xml&quot; /&gt;
                         &lt;exclude name=&quot;.project&quot; /&gt;
                         &lt;exclude name=&quot;**/.svn&quot; /&gt;
                &lt;/fileset&gt;
            &lt;/copy&gt;
            &lt;echo message=&quot;File copy complete.&quot; /&gt;
      &lt;/target&gt;
 
      &lt;target name=&quot;war&quot; depends=&quot;build&quot;&gt;
            &lt;echo message=&quot;Creating WAR file ...&quot; /&gt;
            &lt;war destfile=&quot;${distDir}/${warFileName}&quot; webxml=&quot;${buildDir}/WEB-INF/web.xml&quot;&gt;
                 &lt;fileset dir=&quot;${buildDir}&quot; /&gt;
                 &lt;lib dir=&quot;${buildDir}/WEB-INF/lib&quot; /&gt;
                 &lt;classes dir=&quot;${buildDir}/WEB-INF/classes&quot; /&gt;
            &lt;/war&gt;
            &lt;echo message=&quot;WAR file created.&quot; /&gt;
      &lt;/target&gt;
 
     &lt;target name=&quot;init&quot;&gt;
           &lt;echo message=&quot;Deleting existing build directories and creating new ones ...&quot; /&gt;
           &lt;delete dir=&quot;${buildDir}&quot; /&gt;
           &lt;delete dir=&quot;${distDir}&quot; /&gt;
           &lt;mkdir dir=&quot;${buildDir}&quot; /&gt;
           &lt;mkdir dir=&quot;${distDir}&quot; /&gt;
           &lt;echo message=&quot;Completed init target.&quot; /&gt;
     &lt;/target&gt;
&lt;/project&gt;